MODULE Syscall;
    ASM "Syscall.asm";
    IMPORT Fox32ROM;

    CONST syscalls = {
        NewProcess,
        YieldProcess,
        Open,
        Seek,
        Tell,
        GetSize,
        Read,
        Write,
    };

    EXTERN PROCEDURE InstallSyscallHandler: INT;

    PROCEDURE SyscallHandler(syscall, arg1, arg2, arg3, arg4: INT;): INT;
    BEGIN
        CALL(syscalls[syscall], arg1, arg2, arg3, arg4);
    END;
END.
